/*
 *
 * (C) Copyright IBM Corporation 2006
 *
 *  This file is part of X10 Test.
 *
 */
import harness.x10Test;;
import x10.array.Array;

public class NullableArray5 extends x10Test {        
       
    public def run(): boolean = {
   
            var da: nullable <Array[double]> = new Array[double]([0..2, 0..2], (var point [i,j]: point): double => {return i+j;});
            for (val p: point in da.region) System.out.println("da= "+da(p)); //this loop is fine
            /*the nested loop will generate wired compiler errors*/
            for (var i: int = 0;i<3;i++){
                    for (var j: int = 0;j<3;j++) System.out.print(" "+da(i, j));
                    System.out.flush();System.out.print("\n");
            }
            return true;
    }
    public static def main(var a: Rail[String]): void = {
    	new NullableArray5().execute();
    }
       
}
