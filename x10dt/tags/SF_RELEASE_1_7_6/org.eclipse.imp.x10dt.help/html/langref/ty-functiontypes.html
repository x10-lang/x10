<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
<title>Function types</title>
</head>

<body>
 <h2><a name="tth_sEc6">
6</a>&nbsp;&nbsp;Function types</h2>
<a name="FunctionTypes">
</a>

<div class="p"><!----></div>
        Function types are defined via the "=&#62;" type
        constructor.  Closures () and method
        selectors () are of function type.
        The general form of a function type is:

[X<sub>1</sub>, ..., X<sub>m</sub>](x<sub>1</sub>: T<sub>1</sub>, ..., x<sub>n</sub>: T<sub>n</sub>)c =&#62; T
        throws S<sub>1</sub>, ..., S<sub>k</sub>

        This
        is the type of functions that take type parameters
        "X<sub>i</sub>"
        and value parameters
        "x<sub>i</sub>"
        of types
        "T<sub>i</sub>"
        such that the guard "c" holds
        and returns a value of type "T" or throws
        exceptions of 
        types S<sub>i</sub>.

<div class="p"><!----></div>
The

type and value parameters

are in scope throughout the function signature-they may be
used
in the types of other formal parameters and in the return type.
Value parameters names (but not types) may be omitted if
they are not used. 
Like other types, function types may be constrained.

<div class="p"><!----></div>
<em>  
<table>
<tr><td align="right">FunctionType &nbsp;::=&nbsp; TypeParameters<sup>?</sup>&nbsp;( Formals<sup>?</sup>&nbsp;) Constraint<sup>?</sup>&nbsp;
=&#62; Type Throws<sup>?</sup>&nbsp;</td></tr>
<tr><td align="right">TypeParameters  &nbsp;::=&nbsp; [ TypeParameter ( , TypeParameter
)<sup>*</sup>&nbsp;] </td></tr>
<tr><td align="right">TypeParameter  &nbsp;::=&nbsp; Identifier </td></tr>
<tr><td align="right">Formals  &nbsp;::=&nbsp; Formal ( , Formal )<sup>*</sup>&nbsp;</td></tr>
<tr><td align="right"></td></tr></table>
</em>

<div class="p"><!----></div>
     <h3><a name="tth_sEc6.1">
6.1</a>&nbsp;&nbsp;Functions are value objects</h3>
<a name="FunctionsAreObjects">
</a>

<div class="p"><!----></div>
Functions in  X10 are value objects.  
The function type
"[X<sub>1</sub>, ..., X<sub>k</sub>](x<sub>1</sub>: T<sub>1</sub> ..., x<sub>n</sub>: T<sub>n</sub>) =&#62; S"
may be considered equivalent to an interface type
with a method:

<pre>
def apply[X<sub>1</sub>, ..., X<sub>k</sub>](x<sub>1</sub>: Y<sub>1</sub>, ..., x<sub>n</sub>: Y<sub>n</sub>): Z;
</pre>

Classes and interfaces may implement or extend a function type
by defining the &#228;pply" method.  Since each function type is 
anonymous, a class or interface may implement or extend
more than one function type as long as the &#228;pply" methods
do not have the same signature.

<div class="p"><!----></div>
As objects, closure body may refer to
"this", which is a reference to the current function,
and use it to invoke the closure recursively.

<div class="p"><!----></div>
</body>
</html>