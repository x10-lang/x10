<html>
<head>
<title>Tutorial</title>
<link rel="stylesheet" type="text/css" href="style/help.css">
</head>

<body>

<h1>Remote Launching and Debugger Basics</h1>

X10DT allows you to compile and run your programs on different machines with the C++ back-end.

<ul>
<li><a href="#platform">The X10 Platform Configuration and Remote Launching</a></li>
</ul>

<h2 id="platform">The X10 Platform Configuration and Remote Launching</h2>

To configure how your program will compile and run on different machines, open the <b>X10 Platform Configuration</b> located at the root
directory of your C++-backend project. The platform configuration has 2 tabs: <b>Connection and Communication Interface</b> 
and <b>C++ Compilation and Linking</b>. The communication interface allows you to select the type of interface
and to configure it. The second tab allows you to specify the configuration of C++ compilation and linking. 

<br><br>
To setup a remote connection, go to the <b>Connection and Communication Interface</b> tab and select <b>Remote Connection</b>.
Click on <b>Add</b> and type the name of the new remote connection in the space inside the table under <b>Name</b>. Enter the host name
and the user name, as well as the password. Then hit the <b>Validate</b> button next to the table. 
If your settings are correct a green check mark will appear next to the
name of the connection.

<br><br>
Change the <b>Connection Type</b> to <b>Sockets</b> and keep the default settings that appear.

<br><br>
<img src="images/platformConfig1.png" border="0" />
<br><br>

Switch to the <b>C++ Compilation and Linking</b> tab. Specify the output folder in the home directory to use, and name
your output folder appropriately. 
<!--
This is to ensure that different participants in the tutorial won't share output directories accidentally.
For example, if you chose <b>tutorial01</b> for your account, then your output folder would be: 
<br><br><b>/home/tutorial01/JohnDoe</b>
<br><br>
-->
In the <b>X10 Distribution</b> field, enter the location of your X10 distribution. 
This will be automatically carried to the PGAS distribution field.
<br><br>
<!--
Be sure that the checkbox <b>Use MPI Library for Debugger</b> under <b>Compilation and Linking</b> is checked.
<br><br>
-->
<img src="images/platformConfig2.png" border="0" />
<br><br>

Finally, hit the <b>Validate Configuration</b> button located at the top of the platform configuration. If all your settings are correct, 
this button will turn into a smiley face. If you don't get a smiley face, go back to the 2 tabs and fix your settings according to the instructions
above.

<br><br>
<img src="images/platformConfig3.png" border="0" />
<br><br>

After your platform configuration is set, you need to run the program once. To do so, 
select the type with the main method, right click and select
<br><br><b>Run As -> X10 Application (C++ back-end)</b><br><br>

This will open the <b>Parallel Runtime</b> view, where you will see the output of your program when it's finished.

<br><br>
If this step does not work for you, then create a run configuration manually:
<br><br><b>Run -> Run Configurations...</b><br><br>

Double click on <b>X10 Application (C++ back-end)</b> to create a new Run Configuration. In the <b>Application</b> tab,
enter the desired project name in the <b>X10 Project</b> field, and
the name of the main type in the <b>Main class</b> field. You may use the <b>Search...</b> button to get the main type automatically.

<br><br>
<img src="images/runConfig.png" border="0" />
<br><br>

In the <b>Communication Interface</b> tab, enter the desired number of places (needs to be >0). Check either
the <b>Host file</b> or <b>List of hosts</b> check box and enter the host file to use, or each host to use on a single line.):

<!--
<br><br><b>/home/tutorial01/.rhosts</b>
-->

<br><br>
<img src="images/runConfig1.png" border="0" />
<br><br>

<!--
Click on the <b>Advanced Open MPI</b> button, and check the check boxes labeled: <b>Use default arguments</b>, and <b>Use default parameters</b>.
Occasionally, you may need to hit <b>Apply</b> when making these changes because the settings may be lost as you navigate through the tabs (a shortcoming
that will be fixed in a future release).

<br><br>
<img src="images/runConfig2.png" border="0" />
<br><br>
-->

When you are finished with the <b>Run Configurations</b> settings, and no tab shows any errors, hit <b>Apply</b> to save, and then hit <b>Run</b>.

<!--
<br><br>
If this step fails for you, go to the <b>Resources Manager</b> pane in the <b>Parallel Runtime</b> perspective. Right click on the resource manager
corresponding to your project, and select <b>Stop Resource Manager</b>. Click <b>OK</b> in the popup window. Then right click again on the
resource manager, and select <b>Edit Resource Manager</b>. In the window that appears, be sure that the check box <b>SSH Port Forwarding</b> is checked
and click <b>Finish</b>. Right click again on the resource manager and select <b>Start Resource Manager</b>. Then run your program again by going
back to the run configurations (<b>Run -> Run Configurations...</b>) and selecting the run configuration you created above.

<br><br>
<img src="images/resourceManager.png" border="0" />
<br><br>
-->

<!--
<h2 id="debugger">Debugger Basics</h2>

To start working with the debugger, go to:
<br><br><b>Run -> Debug Configurations...</b><br><br>

Double click on <b>Parallel Applications</b> to create a new debug configuration. Under the <b>Resources</b> tab, select the resource manager
corresponding to your project. By default, this resource manager has the same name as your project. Select the number of processes desired (> 0).
Check the <b>Host file</b> check box and enter (with <b>tutotrial01</b> replaced with your account):

<br><br><b>/home/tutorial01/.rhosts</b>

<br><br>
<img src="images/debugConfig.png" border="0" />
<br><br>

Click on the <b>Advanced Open MPI</b> button, and check the check boxes labeled: <b>Use default arguments</b>, and <b>Use default parameters</b>.

<br><br>
<img src="images/debugConfig0.png" border="0" />
<br><br>

In the <b>Application</b> tab, enter the name of the X10 project to debug in the <b>Parallel Project</b> field. Click the <b>Browse</b> button next
to the <b>Application Program</b> field to choose the name of the application you wish to debug.

<br><br>
<img src="images/debugConfig1.png" border="0" />
<br><br>

In the <b>Debugger</b> tab, select <b>SDM</b> as the <b>Debugger</b> and <b>x10-gdb-mi</b> for the <b>Debugger backend</b>.
<br><br>

For the <b>Path to the debugger executable</b> enter:
<br><br><b>/opt/PTP_Debugger/1111/org.eclipse.ptp.linux.x86/bin/sdm</b>

<br><br>
<img src="images/debugConfig2.png" border="0" />
<br><br>

When you are finished with the <b>Debug Configurations</b> settings, and no tab shows any errors, hit <b>Apply</b> to save, and then hit <b>Debug</b>.
This will open the <b>Parallel Debug</b> perspective, where you will be able to step through your program and debug it. For more information on how to use
the debugger see <a href="http://www.eclipse.org/ptp/documentation/org.eclipse.ptp.help/html/04ptpDebugPersp.html">here</a>.

<br><br>
If this step fails for you and you don't see the <b>Parallel Debug</b> perspective, go to the <b>Resources Manager</b> pane in the <b>Parallel Runtime</b> perspective. Right click on the resource manager
corresponding to your project, and select <b>Stop Resource Manager</b>. Click <b>OK</b> in the popup window. Then right click again on the
resource manager, and select <b>Edit Resource Manager</b>. In the window that appears, be sure that the check box <b>SSH Port Forwarding</b> is checked
and click <b>Finish</b>. Right click again on the resource manager and select <b>Start Resource Manager</b>. Then debug your program again by going
back to the debug configurations (<b>Run -> Debug Configurations...</b>) and selecting the debug configuration you created above.

<br><br>
<img src="images/debugger.png" border="0" />
<br><br>
-->

</body>
</html>