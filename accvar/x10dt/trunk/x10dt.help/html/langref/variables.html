<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Variables</title>
</head>

<body>
 <h1><a name="tth_chAp1">
Chapter 5 </a><br />Variables</h1><a name="XtenVariables">
</a>

<div class="p"><!----></div>

<div class="p"><!----></div>
A <em>variable</em> is an X10 identifier associated with a value within some
context. Variable bindings have these essential properties:

<ul>
<li> <b>Type:</b> What sorts of values can be bound to the identifier;
<div class="p"><!----></div>
</li>

<li> <b>Scope:</b> The region of code in which the identifier is associated
      with the entity;
<div class="p"><!----></div>
</li>

<li> <b>Lifetime:</b> The interval of time in which the identifier is
      associated with the entity.
<div class="p"><!----></div>
</li>

<li> <b>Visibility:</b> Which parts of the program can read or manipulate the
      value through the variable.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
X10 has many varieties of variables, used for a number of purposes.  

<ul>
<li> Class variables, also known as the static fields of a class, which hold
      their values for the lifetime of the class.
<div class="p"><!----></div>
</li>

<li> Instance variables, which hold their values for the lifetime of an
      object;
<div class="p"><!----></div>
</li>

<li> Array elements, which are not individually named and hold their values
      for the lifetime of an array;
<div class="p"><!----></div>
</li>

<li> Formal parameters to methods, functions, and constructors, which hold
      their values for the duration of method (etc.) invocation;
<div class="p"><!----></div>
</li>

<li> Local variables, which hold their values for the duration of execution
      of a block.
<div class="p"><!----></div>
</li>

<li> Exception-handler parameters, which hold their values for the execution
      of the exception being handled.
<div class="p"><!----></div>
</li>
</ul>
A few other kinds of things are called variables for historical reasons; <em>e.g.</em>,
type parameters are often called type variables, despite not being variables
in this sense because they do not refer to X10 values.  Other named entities,
such as classes and methods, are not called variables.  However, all
name-to-whatever bindings enjoy similar concepts of scope and visibility.  

<div class="p"><!----></div>
In the following example, 
<b>n</b> is an instance variable, and <b>nxt</b> is a
local variable defined within the method <b>bump</b>.<a href="#tthFtNtAAB" name="tthFrefAAB"><sup>1</sup></a>
<pre>
class Counter {
  private var n : Int = 0;
  public def bump() : Int {
    val nxt = n+1;
    n = nxt;
    return nxt;
    }
}
</pre>
Both variables have type <b>Int</b> (or
perhaps something more specific).    The scope of <b>n</b> is the body of
<b>Counter</b>; the scope of <b>nxt</b> is the body of <b>bump</b>.  The
lifetime of <b>n</b> is the lifetime of the <b>Counter</b> object holding it;
the lifetime of <b>nxt</b> is the duration of the call to <b>bump</b>. Neither
variable can be seen from outside of its scope.

<div class="p"><!----></div>
<a name="exploded-syntax">
</a><a name="VariableDeclarations">
</a>Variables whose value may not be changed after initialization are said to be
<em>immutable</em>, or <em>constants</em> (&#167;), or simply
<b>val</b> variables. Variables whose value may change are <em>mutable</em> or
simply <b>var</b> variables. <b>var</b> variables are declared by the <b>var</b>
keyword. <b>val</b> variables may be declared by the <b>val</b> keyword; when a
variable declaration does not include either <b>var</b> or <b>val</b>, it is
considered <b>val</b>. 

<div class="p"><!----></div>
A variable-even a <b>val</b> - can be declared in one statement, and then
initialized later on.  It must be initialized before it can be used
(&#167;).  

<div class="p"><!----></div>
The following example illustrates many of the variations on variable
declaration:
<pre>
val a : Int = 0;               // Full 'val' syntax
b : Int = 0;                   // 'val' implied
val c = 0;                     // Type inferred
var d : Int = 0;               // Full 'var' syntax
var e : Int;                   // Not initialized
var f : Int{self != 100} = 0;  // Constrained type
val g : Int;                   // Init. deferred
if (a &#62; b) g = 1; else g = 2;  // Init. done here.
</pre>

<div class="p"><!----></div>

</body>
</html>