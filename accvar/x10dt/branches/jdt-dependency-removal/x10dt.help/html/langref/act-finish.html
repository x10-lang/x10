<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<meta name="GENERATOR" content="TtH 3.80">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
	<title>Finish</title>
</head>

<body>
 <h2><a name="tth_sEc4">
4</a>&nbsp;&nbsp;Finish</h2><a name="finish">
</a>
The statement <b>finish S</b> converts global termination to local
termination.

<div class="p"><!----></div>
<em>  
<table>

<tr><td align="right">FinishStatement ::= <b>finish</b> Statement </td></tr>
<tr><td align="right">&#124; <b>clocked</b> <b>finish</b> Statement </td></tr>
<tr><td align="right"></td></tr></table>
</em>

<div class="p"><!----></div>
An activity A executes <b>finish S</b> by executing <b>S</b> and
then waiting for all activities spawned by <b>S</b> (directly or
indirectly, here or at other places) to terminate. An activity may
terminate normally, or abruptly, i.e. by throwing an exception.
All exceptions thrown by spawned activities are caught and
accumulated. 

<div class="p"><!----></div>
<b>finish S</b> terminates locally when all activities spawned by
<b>S</b> terminate globally (either abruptly or normally). If <b>S</b>
terminates normally, then <b>finish S</b> terminates normally and A
continues execution with the next statement after <b>finish S</b>.  If
<b>S</b> or one of the activities spawned by it terminate abruptly,
then <b>finish S</b> terminates abruptly and throws a single exception,
<b>x10.lang.MultipleExceptions</b> formed from the collection of
exceptions accumulated at <b>finish S</b>.

<div class="p"><!----></div>
Thus <b>finish S</b> statement serves as a collection point for
uncaught exceptions generated during the execution of <b>S</b>.

<div class="p"><!----></div>
Note that repeatedly <b>finish</b>ing a statement has little effect after
the first <b>finish</b>: <b>finish finish S</b> is indistinguishable
from <b>finish S</b> if <b>S</b> throws no exceptions.  (If <b>S</b> throws
exceptions, <b>finish S</b> wraps them in one layer of 
<b>MultipleExceptions</b> and <b>finish finish S</b> in two layers.)

<div class="p"><!----></div>
<pre>
</pre>

<div class="p"><!----></div>

</body>
</html>